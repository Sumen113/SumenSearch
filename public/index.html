<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FerryAr/fa-pro/css/all.css" />
        <script src="/uv/uv.bundle.js"></script>
        <script src="/uv/uv.config.js"></script>

        <script>
        if ("serviceWorker" in navigator) {
            window.addEventListener("load", () => {
                navigator.serviceWorker.register("/uv/sw.js", {
                    scope: __uv$config.prefix,
                });
            });
        }
        </script>

        <link rel="stylesheet" href="example.css">
    </head>
    <body>
        <div class="input-wrapper">
            <div class="url-bar">
                <input id="urlInput" type="text" placeholder="Unblock MOST Websites">
                <i class="fas fa-search search-icon"></i>
            </div>
            <i class="fas fa-chevron-down toggle-icon" style="display: none;"></i> <!-- Moved here -->
        </div>
        <div class="button-wrapper">
            <button class="youtube-button">
              <i class="fab fa-youtube"></i>
            </button>
            <button class="szvy-button">
                <img class="szvyy" src="https://weezer.global.ssl.fastly.net/assets/logo.webp" alt="Logo" style="width: 48px; height: 48px;">
            </button>
          </div>
        <iframe id="iframeWindow" class="iframeWindow"></iframe>
          
          
          
          
    </body>
    <script src="example.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            const input = document.querySelector('input');
            const inputWrapper = document.querySelector('.input-wrapper');
            const iframeBackground = document.body; // The background of iframe (whole body)
        
            if (input) {
                input.addEventListener('focus', () => {
                    window.parent.postMessage({ event: 'iframeFocus' }, '*');
                });
                
                document.addEventListener('click', (e) => {
                    const clickedInsideInput = inputWrapper.contains(e.target);
                    
                    if (!clickedInsideInput) {
                        // If user clicks outside input-wrapper, but still inside iframe
                        window.parent.postMessage({ event: 'iframeBlur' }, '*');
                    }
                });
            }
        });
        </script>              
</html>
